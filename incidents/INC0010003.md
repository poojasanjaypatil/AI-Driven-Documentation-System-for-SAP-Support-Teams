# Incident Documentation

**Incident Number:** `INC0010003`

**Title:** Custom RFC ZHR_GET_EMP_DATA returning incomplete employee records

> **Category:** Inquiry / Help • **Reported By:** TEACH-005
> **Opened At:** 2025-10-13 00:53:12 • **Resolved At:** 14.01.2026 18:42:13

---

## Metadata

| Field | Value |
|---|---|
| Category | Inquiry / Help |
| Reported By | TEACH-005 |
| Opened At | 2025-10-13 00:53:12 |
| Resolved At | 14.01.2026 18:42:13 |
| sys_id | b7dba53d53203210f1f6f7e0a0490e5e |

---

## Issue

- [2025-10-13 00:53:34] admin: RFC call from SuccessFactors integration is only retrieving partial data for some employee groups. Suspected filtering logic issue in ABAP SELECT statement. Need ABAP developer to review and adjust the query.

---

## Root Cause

The incomplete employee records returned by the RFC ZHR_GET_EMP_DATA are likely due to an issue in the filtering logic of the ABAP SELECT statement. This could involve the incorrect configuration of employee groups and subgroups.

---

## Solution Steps

The selection logic was corrected by expending the allowed employee groups and subgroups, fixing the AND/OR conditions, and replacing the hard-coded validity check with a proper date range filter. The query filter was moved into configuration like TVARVC or a custom table, and the RFC was retested using SE37 and also through the SuccessFactors integration to confirm that all relevant employees are now returned.

---

## Additional Notes

- Generated via SAP ? ServiceNow ? (AI) ? GitHub pipeline.
